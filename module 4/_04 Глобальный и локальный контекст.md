## Изменение области видимости переменных

Если же мы хотим изменить в локальной функции глобальную переменную, а не определить локальную, то необходимо использовать ключевое слово global:

```python
name = "Илья"

def say_hi():
    name = "Иван"  # скрываем значение глобальной переменной
    print("Привет,", name)

def say_bye():
    print("Пока,", name)


say_hi()
say_bye()
```

>Привет, Иван

>Пока, Илья

```python

def say_hi():
    global name
    name = "Иван"  # скрываем значение глобальной переменной
    print("Привет,", name)

```

Результат:
Привет, Иван
Пока, Иван


## nonlocal


Выражение `nonlocal` прикрепляет идентификатор к переменной из ближайщего окружающего контекста (за исключением глобального контекста). 

Обычно nonlocal применяется во вложенных функциях, когда надо прикрепить идентификатор за переменной или параметром окружающей внешней функции. 

Рассмотрим ситуацию, где это выражение может пригодиться:

```python
def outer():  # внешняя функция    n = 5 
    def inner():    # вложенная функция
        print(n) 
    inner()     # 5
    print(n)
  
outer()     # 5
```

Здесь вложенная локальная функция inner() выводит на консоль значение переменной n, которая определена во внешней функции outer(). 

Затем в функции outer() вызывается внутренняя функция inner().

При вызове функции outer() здесь мы ожидаемо увидим на консоли два раза число 5. 

Однако в данном случае вложенная функция inner() просто получает значение. Теперь возьмем другую ситуацию, когда вложенная функция присваивает значение переменной:

```python
def outer():  # внешняя функция
    n = 5
 
    def inner():    # вложенная функция
        n = 25
        print(n)
 
    inner()     # 25
    print(n)
 
 
outer()     # 5 
# 25    - inner
# 5     - outer
```

При присвоении значения во вложенной функции: n = 25 будет создаваться новая переменная n, которая скроет переменную n из окружающей внешней функции outer. 

В итоге мы получим при выводе два разных числа. Чтобы во вложенной функции указать, что идентификатор во вложенной функции будет представлять переменную из окружающей функции, применяется выражение nonlocal:

```python
def outer():  # внешняя функция
    n = 5 
    def inner():    # вложенная функция
        nonlocal n  # указываем, что n - это переменная из окружающей функции
        n = 25
        print(n)
 
    inner()     # 25
    print(n)
 
 
outer()          # 25

```